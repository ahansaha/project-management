<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace = "layouts :: pmaHeader"></head>

<body>
	
	<nav th:replace = "layouts :: pmaNavbar"></nav>
	
	<div class="container">
		<br>
		
		<h4>Current Employees</h4>
		
		<div th:replace = "layouts :: pmaGenericAlert"></div>
		
		<hr>
		
		<a th:href="@{/employees/new}" class="btn btn-primary btn-sm mb-3">New Employee</a>
		
		<table th:replace = "layouts :: pmaEmployeeTableAllEdit"></table>
		
		<div th:if="${totalPages > 1}">
			<div class="row">
				<div class="col-sm-2">
					<div th:text="${'Items displayed : ' + totalItemsInPage}"></div>
				</div>
				<div class="col-sm-1">
					<a th:if="${currentPage > 1}" th:href="@{'/employees/page?pageNo=' + ${currentPage - 1}}">Previous</a>
					<span th:unless="${currentPage > 1}">Previous</span>
				</div>
				<!-- <div class="col-sm-1">
					<span th:each="i : ${#numbers.sequence(1, totalPages)}">
						<a th:if="${currentPage != i}" th:href="@{'/employees/page?pageNo=' + ${i}}">[[${i}]]</a>
					</span>
				</div> -->
				<div class="col-sm-1">
					<a th:if="${currentPage >= 4}" th:href="@{'/employees/page?pageNo=' + ${currentPage / 2}}">
						<span th:text="${currentPage / 2}"></span>
					</a>
					<a th:unless="${currentPage >= 4}" th:href="@{'/employees/page?pageNo=1'}">
						<span th:text="1"></span>
					</a>
				</div>
				<div class="col-sm-1">
					<span th:text="${currentPage}"></span>
				</div>
				<div class="col-sm-1">
					<a th:if="${currentPage <= totalPages - 3}" th:href="@{'/employees/page?pageNo=' + ${(currentPage + totalPages) / 2}}">
						<span th:text="${(currentPage + totalPages) / 2}"></span>
					</a>
					<a th:unless="${currentPage <= totalPages - 3}" th:href="@{'/employees/page?pageNo=' + ${totalPages}}">
						<span th:text="${totalPages}"></span>
					</a>
				</div>
				<div class="col-sm-1">
					<a th:if="${currentPage < totalPages}" th:href="@{'/employees/page?pageNo=' + ${currentPage + 1}}">Next</a>
					<span th:unless="${currentPage < totalPages}">Next</span>
				</div>
			</div>
		</div>
		
	</div>
	
	<!-- <footer th:replace = "layouts :: pmaFooter"></footer> -->
	
</body>

</html>